<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="description" />
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/Cake.Recipe/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/Cake.Recipe/assets/img/favicon.ico" type="image/x-icon">
        <title>Cake.Recipe - SetToolSettings Method</title>
        <link href="/Cake.Recipe/assets/css/highlight.css" rel="stylesheet">
        <link href="/Cake.Recipe/assets/css/bootstrap/bootstrap.css" rel="stylesheet" />
        <link href="/Cake.Recipe/assets/css/adminlte/AdminLTE.css" rel="stylesheet" />
        <link href="/Cake.Recipe/assets/css/theme/theme.css" rel="stylesheet" />
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/Cake.Recipe/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/Cake.Recipe/assets/css/override.css" rel="stylesheet" />
        <script src="/Cake.Recipe/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/Cake.Recipe/assets/js/bootstrap.min.js"></script>        
        <script src="/Cake.Recipe/assets/js/app.min.js"></script>         
        <script src="/Cake.Recipe/assets/js/highlight.pack.js"></script>   
        <script src="/Cake.Recipe/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/Cake.Recipe/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/Cake.Recipe/assets/js/mermaid.min.js"></script>
        <script src="/Cake.Recipe/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/Cake.Recipe/assets/js/html5shiv.min.js"></script>
        <script src="/Cake.Recipe/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/Cake.Recipe/" class="logo">
                            <span>Cake.Recipe</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                            

        <li class="active"><a href="/Cake.Recipe/docs">Documentation</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/cake-contrib/Cake.Recipe/tree/develop/docs/input/docs/fundamentals/set-tool-settings.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"></div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/Cake.Recipe/docs/overview">Overview</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/overview/features">Features</a></li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/overview/requirements">Requirements</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/overview/requirements/posix">Posix</a></li>
                <li><a href="/Cake.Recipe/docs/overview/requirements/windows">Windows</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/Cake.Recipe/docs/fundamentals">Fundamentals</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/fundamentals/recipe-cake">recipe.cake file</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/preprocessor-directive">Pre-processor Directive</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/set-variable-names">SetVariableNames Method</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/set-parameters">SetParameters Method</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/print-parameters">PrintParameters Method</a></li>
                <li class="selected"><a href="/Cake.Recipe/docs/fundamentals/set-tool-settings">SetToolSettings Method</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/build">Build Method</a></li>
                <li><a href="/Cake.Recipe/docs/fundamentals/environment-variables">Environment Variables</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/usage/getting-started-with-cake-recipe">Getting started with Cake.Recipe</a></li>
                <li><a href="/Cake.Recipe/docs/usage/conventions">Conventions</a></li>
                <li><a href="/Cake.Recipe/docs/usage/issue-management">Issue management</a></li>
                <li><a href="/Cake.Recipe/docs/usage/creating-release">Creating a release</a></li>
                <li><a href="/Cake.Recipe/docs/usage/create-pre-release">Creating a pre-release</a></li>
                <li><a href="/Cake.Recipe/docs/usage/creating-packages">Creating packages</a></li>
                <li><a href="/Cake.Recipe/docs/usage/previewing-documentation">Previewing documentation</a></li>
                <li><a href="/Cake.Recipe/docs/usage/publishing-documentation">Publishing documentation</a></li>
                <li><a href="/Cake.Recipe/docs/usage/cleaning-cache">Cleaning cache</a></li>
                <li><a href="/Cake.Recipe/docs/usage/code-coverage-reports">Code coverage reports</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/extending">Extending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/extending/override-generating-version">Override generating version</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/vscode-extension">VSCode Extension</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/vscode-extension/installation">Installation</a></li>
                <li><a href="/Cake.Recipe/docs/vscode-extension/commands">Commands</a></li>
                <li><a href="/Cake.Recipe/docs/vscode-extension/resources">Resources</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/resources">Resources</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/resources/blog-posts">Blog posts</a></li>
                <li><a href="/Cake.Recipe/docs/resources/videos">Videos</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/contributing">Contributing</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/contributing/how-to-contribute">How to contribute</a></li>
                <li><a href="/Cake.Recipe/docs/contributing/how-to-build">How to build Cake.Recipe</a></li>
                <li><a href="/Cake.Recipe/docs/contributing/how-to-release">How to release Cake.Recipe</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/Cake.Recipe/docs/known-issues">Known Issues</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Cake.Recipe/docs/known-issues/running-xunit-tests-on-net-framework">Running Xunit Tests when targeting .Net Framework</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>SetToolSettings Method</h1>
		</section>
	<section class="content">
		<p>Cake.Recipe makes use of a number of different tools, for example DupFinder, MSBuild, OpenCover, etc.  While Cake.Recipe attempts to provide sensible defaults for all of these tools, there are times when it is necessary to override these for specific project requirements.</p>
<p>This can be done by calling the <code>SetToolSettings</code> method.</p>
<p>As an example, you could override some tool settings using the following:</p>
<pre><code class="language-csharp">ToolSettings.SetToolSettings(context: Context,
                            dupFinderExcludePattern: new string[] {
                            BuildParameters.RootDirectoryPath + &quot;/Source/Cake.Example.Tests/*.cs&quot;,
                            BuildParameters.RootDirectoryPath + &quot;/Source/Cake.Example/**/*.AssemblyInfo.cs&quot; },
                            testCoverageFilter: &quot;+[*]* -[xunit.*]* -[Cake.Core]* -[Cake.Testing]* -[*.Tests]* &quot;,
                            testCoverageExcludeByAttribute: &quot;*.ExcludeFromCodeCoverage*&quot;,
                            testCoverageExcludeByFile: &quot;*/*Designer.cs;*/*.g.cs;*/*.g.i.cs&quot;);
</code></pre>
<h2 id="default-tool-setting-parameters">Default Tool Setting Parameters</h2>
<p>The <code>SetToolSettings</code> method uses the concept of optional parameters, in fact, all but one of the parameters to the <code>SetToolSettings</code> method are optional.  To override a specific tool setting, you need to use a named parameter.  The following is a list of all the named parameters that can be used on the method.</p>
<h3 id="dupfinderexcludepattern">dupFinderExcludePattern</h3>
<p>This is used when executing the DupFinder command line tool.  It provides a list of strings, representing file paths, which should be excluded from the DupFinder analysis.</p>
<p>Type: <code>string[]</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">var absoluteSourceDirectory = context.MakeAbsolute(BuildParameters.SolutionDirectoryPath);

new string[]
            {
                string.Format(&quot;{0}/{1}.Tests/**/*.cs&quot;, absoluteTestDirectory, BuildParameters.Title),
                string.Format(&quot;{0}/**/*.AssemblyInfo.cs&quot;, absoluteSourceDirectory)
            }
</code></pre>
<h3 id="testcoveragefilter">testCoverageFilter</h3>
<p>This is used in conjunction with both OpenCover and Coverlet.  It controls which assemblies/namespaces should be included within the Unit Test coverage.</p>
<p>Type: <code>string</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">string.Format(&quot;+[{0}*]* -[*.Tests]*&quot;, BuildParameters.Title)
</code></pre>
<h3 id="testcoverageexcludebyattribute">testCoverageExcludeByAttribute</h3>
<p>This is used in conjunction with both OpenCover and Coverlet.  It controls which test should be excluded from coverage based on what attributes are assigned to the tests.</p>
<p>Type: <code>string</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">&quot;*.ExcludeFromCodeCoverage*&quot;
</code></pre>
<h3 id="testcoverageexcludebyfile">testCoverageExcludeByFile</h3>
<p>This is used in conjunction with both OpenCover and Coverlet.  It controls which tests should be excluded based on file name.</p>
<p>Type: <code>string</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">&quot;*/*Designer.cs;*/*.g.cs;*/*.g.i.cs&quot;
</code></pre>
<h3 id="buildplatformtarget">buildPlatformTarget</h3>
<p>This is passed into the execution of MSBuild when doing a full .Net Framework build.</p>
<p>Type: <code>PlatformTarget?</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">PlatformTarget.MSIL
</code></pre>
<h3 id="buildmsbuildtoolversion">buildMSBuildToolVersion</h3>
<p>This is passed into the execution of MSBuild when doing a full .Net Framework build.</p>
<p>Type: <code>MSBuildToolVersion</code></p>
<p>Default Value:</p>
<pre><code class="language-csharp">MSBuildToolVersion.Default
</code></pre>
<h3 id="maxcpucount">maxCpuCount</h3>
<p>This is passed into the execution of MSBuild when doing a full .Net Framework build.</p>
<p>Type: <code>int?</code></p>
<p>Default Value: 0</p>
<h3 id="targetframeworkpathoverride">targetFrameworkPathOverride</h3>
<p>This is passed into the execution of any .Net Core build operation.</p>
<p>Type: <code>DirectoryPath</code></p>
<p>Depending on what sort of build Cake.Recipe is executing, the default value changes.</p>
<p>If <code>BuildParameters.ShouldUseTargetFrameworkPath</code> is true, and the <code>targetFrameworkPathOverride</code> is null, and it is a .Net Core build, then the default value is:</p>
<pre><code class="language-csharp">var path = context.Tools.Resolve(&quot;mono&quot;).GetDirectory();
path = path.Combine(&quot;../lib/mono/4.5&quot;);
TargetFrameworkPathOverride = path.FullPath + &quot;/&quot;
</code></pre>
<p>If <code>BuildParameters.ShouldUseTargetFrameworkPath</code> is true, and the <code>targetFrameworkPathOverride</code> is null, and it is <em>NOT</em> a .Net Core build, then the default value is:</p>
<pre><code class="language-csharp">TargetFrameworkPathOverride = new FilePath(typeof(object).Assembly.Location).GetDirectory().FullPath + &quot;/&quot;
</code></pre>
<p>If a value for <code>targetFrameworkPathOverride</code> is provided, then the default value is simply the FullPath of this DirectoryPath.</p>
<pre><code class="language-csharp">TargetFrameworkPathOverride = targetFrameworkPathOverride?.FullPath;
</code></pre>
<h3 id="dupfinderexcludefilesbystartingcommentsubstring">dupFinderExcludeFilesByStartingCommentSubstring</h3>
<p>This is used when executing the DupFinder command line tool.  It provides a list of strings, which should be matched in the opening comments of a file, which should be excluded from the DupFinder analysis.</p>
<p>Type: <code>string[]</code></p>
<p>Default Value: <code>null</code></p>
<h3 id="dupfinderdiscardcost">dupFinderDiscardCost</h3>
<p>This is used when executing the DupFinder command line tool.  It allows setting a threshold for code complexity of the duplicated fragments. The fragments with lower complexity are discarded as non-duplicates.</p>
<p>Type: <code>int?</code></p>
<p>Default Value: <code>null</code></p>
<h3 id="dupfinderthrowexceptiononfindingduplicates">dupFinderThrowExceptionOnFindingDuplicates</h3>
<p>This is used when executing the DupFinder command line tool.  If set to true, an exception will be thrown is duplicates are found.</p>
<p>Type: <code>bool?</code></p>
<p>Default Value: <code>null</code></p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    Copyright &copy; <a href="http://github.com/cake-contrib" target="_blank">Cake Contributions</a> and <a href="https://github.com/cake-contrib/Cake.Recipe/graphs/contributors" target="_blank">contributors</a>.
    <br/>
    Website generated by <a href="http://wyam.io" target="_blank">Wyam</a>
</p>

            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/cake-contrib/Cake.Recipe" target="_blank"><i class="fa fa-github"></i> GitHub</a>
</div>
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'cake-contrib/Lobby'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

<script type="text/javascript" src="/Cake.Recipe/assets/js/anchor.min.js"></script>
<script type="text/javascript" src="/Cake.Recipe/assets/js/clipboard.min.js"></script>
<script type="text/javascript">
    anchors.options.placement = 'left';
    anchors.add('#content h1:not(.no-anchor), #content h2:not(.no-anchor), #content h3:not(.no-anchor), #content h4:not(.no-anchor)');

    var snippets = document.querySelectorAll("pre > code");
    [].forEach.call(snippets, function(snippet) {
        snippet.insertAdjacentHTML("beforebegin", "<button class='btn-copy' data-clipboard-snippet><img class='clippy' width=13 src='/Cake.Recipe/assets/images/clippy.svg' alt='Copy to clipboard'></button>");
    });
    var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
        target: function(trigger) {
            return trigger.nextElementSibling;
        }
    });
    clipboardSnippets.on('success', function(e) {
        e.clearSelection();
        showTooltip(e.trigger, "Copied!");
    });
    clipboardSnippets.on('error', function(e) {
        showTooltip(e.trigger, fallbackMessage(e.action));
    });
    var btns = document.querySelectorAll('.btn-copy');
    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener('mouseleave', function(e) {
            e.currentTarget.setAttribute('class', 'btn-copy');
            e.currentTarget.removeAttribute('aria-label');
        });
    }
    function showTooltip(elem, msg) {
        elem.setAttribute('class', 'btn-copy tooltipped tooltipped-s');
        elem.setAttribute('aria-label', msg);
    }
    function fallbackMessage(action) {
        var actionMsg = '';
        var actionKey = (action === 'cut' ? 'X' : 'C');
        if (/iPhone|iPad/i.test(navigator.userAgent)) {
            actionMsg = 'No support :(';
        } else if (/Mac/i.test(navigator.userAgent)) {
            actionMsg = 'Press ⌘-' + actionKey + ' to ' + action;
        } else {
            actionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;
        }
        return actionMsg;
    }
</script>
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    </body>
</html>